(function() {
  'use strict';

  electionChartsApp.factory('partyResource', ['$resource', 'errorHandler', function($resource, errorHandler) {
    var factory = {};

    factory.resource = $resource('/api/party/:type/:partyId');

    factory.query = function(partyId, type){
      var query = this.resource.query(
        { type: type, partyId: partyId },
        function success(res) {
          // not implemented
        },
        function error(res) {
          errorHandler.setError("Error: " + res.error);
        }
      );

      return query;
    };

    factory.get = function(partyId, type) {
      var get = this.resource.get(
        { type: type, partyId:partyId },
        function success(res) {
          // not implemented
        },
        function error(res) {
          errorHandler.setError("Error: " + res.error);
        }
      );

      return get;
    };

    return factory;
  }]);
}());
